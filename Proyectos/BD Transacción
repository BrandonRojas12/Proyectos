CREATE LOGIN  LOTROADM WITH PASSWORD = 'POTROADM'
EXEC  SP_ADDSRVROLEMEMBER 'LOTROADM', 'SYSADMIN'

USE MASTER
CREATE DATABASE BDEJ_PARA_TRANSACCION
GO
USE BDEJ_PARA_TRANSACCION
GO

BEGIN TRANSACTION EJ_TRAN_ACTOR

CREATE TABLE ACTOR(
       NOMBRE_ARTISTICO      varchar(50)NOT NULL,
       NOMBRE_REAL           varchar(50)NOT NULL,
       FECHA_NAC             date NULL,
       NACIONALIDAD          varchar(50)NOT NULL)

SAVE TRANSACTION TABLA_ACTOR_CREADA

INSERT INTO ACTOR 
(NOMBRE_ARTISTICO, NOMBRE_REAL, FECHA_NAC, NACIONALIDAD)
VALUES	('SAMUEL L JACKSON','SAMUEL L JACKSON','12/21/1948','ESTADOUNIDENSE'),
('BRUCE WILLIS','BRUCE WILLIS','03/19/1955','ESTADOUNIDENSE'),
('NICOLE KIDMAN','NICOLE KIDMAN','07/06/1946','AUSTRALIANA'),
('SILVESTER STALLONE','MICHAEL SYLVESTER GARDENZIO STALLONE','04/03/1959','ESTADOUNIDENSE'),
('ARNOLD SCHWARZENEGGER','ARNOLD ALOIS SCHWARZENEGGER','07/30/1947','ESTADOUNIDENSE')

SAVE TRANSACTION INSERTADOS

UPDATE ACTOR SET NOMBRE_REAL ='SAMUEL LEROY JACKSON' WHERE NOMBRE_ARTISTICO ='SAMUEL L JACKSON'
UPDATE ACTOR SET NOMBRE_REAL ='WALTER BRUCE WILLIS'  WHERE NOMBRE_ARTISTICO ='BRUCE WILLIS'
UPDATE ACTOR SET NOMBRE_REAL ='NICOLE MARY KIDMAN'   WHERE NOMBRE_ARTISTICO ='NICOLE KIDMAN'

SAVE TRANSACTION ACTUALIZADOS

DELETE FROM ACTOR
WHERE NOMBRE_ARTISTICO ='NICOLE KIDMAN'OR  NOMBRE_ARTISTICO ='SAMUEL L JACKSON'

SAVE TRANSACTION BORRADOS

ROLLBACK TRANSACTION 
ROLLBACK TRANSACTION TABLA_ACTOR_CREADA
ROLLBACK TRANSACTION INSERTADOS
ROLLBACK TRANSACTION ACTUALIZADOS
ROLLBACK TRANSACTION BORRADOS

COMMIT TRANSACTION

SELECT * FROM ACTOR


